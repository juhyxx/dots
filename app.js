!function(){"use strict";var e="undefined"==typeof window?global:window;if("function"!=typeof e.require){var t={},i={},n={},r={}.hasOwnProperty,s=/^\.\.?(\/|$)/,o=function(e,t){for(var i,n=[],r=(s.test(t)?e+"/"+t:t).split("/"),o=0,a=r.length;o<a;o++)i=r[o],".."===i?n.pop():"."!==i&&""!==i&&n.push(i);return n.join("/")},a=function(e){return e.split("/").slice(0,-1).join("/")},u=function(t){return function(i){var n=o(a(t),i);return e.require(n,t)}},l=function(e,t){var n=null;n=y&&y.createHot(e);var r={id:e,exports:{},hot:n};return i[e]=r,t(r.exports,u(e),r),r.exports},c=function(e){return n[e]?c(n[e]):e},f=function(e,t){return c(o(a(e),t))},d=function(e,n){null==n&&(n="/");var s=c(e);if(r.call(i,s))return i[s].exports;if(r.call(t,s))return l(s,t[s]);throw new Error("Cannot find module '"+e+"' from '"+n+"'")};d.alias=function(e,t){n[t]=e};var h=/\.[^.\/]+$/,v=/\/index(\.[^\/]+)?$/,m=function(e){if(h.test(e)){var t=e.replace(h,"");r.call(n,t)&&n[t].replace(h,"")!==t+"/index"||(n[t]=e)}if(v.test(e)){var i=e.replace(v,"");r.call(n,i)||(n[i]=e)}};d.register=d.define=function(e,n){if("object"==typeof e)for(var s in e)r.call(e,s)&&d.register(s,e[s]);else t[e]=n,delete i[e],m(e)},d.list=function(){var e=[];for(var i in t)r.call(t,i)&&e.push(i);return e};var y=e._hmr&&new e._hmr(f,d,t,i);d._cache=i,d.hmr=y&&y.wrap,d.brunch=!0,e.require=d}}(),function(){window;require.register("Application.js",function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),o=t("StaffView.js"),a=n(o),u=t("shortcuts.js"),l=t("RandomGenerator.js"),c=n(l),f=t("notes.js"),d=function(){function e(){r(this,e),this.randomGenerator=new c["default"]({min:43,max:77}),this.staffView=new a["default"]("svg #note"),this._results={},this.registerHandlers(),this.updateStats()}return s(e,[{key:"time",get:function(){return this._time||3},set:function(e){this._time=e}},{key:"note",get:function(){return this._note},set:function(e){this._note=e,this.staffView.showNote(this._note,this.time)}}],[{key:"run",value:function(){return new this}}]),s(e,[{key:"registerHandlers",value:function(){var e=this;(0,u.$)("nav button").addEventListener("click",function(){e._interval?((0,u.$)("nav button").innerHTML='<i class="fa fa-play"></i>',clearTimeout(e._interval),e._interval=void 0,(0,u.$)("body").className=""):((0,u.$)("body").className="play",e._results={},e.updateStats(),e.updateProgress(),(0,u.$)("nav button").innerHTML='<i class="fa fa-stop"></i>',e.runTest())}),(0,u.$)("#piano").addEventListener("click",function(t){var i=t.target.getAttribute("value");i&&e.checkResult(f.notes.indexOf(i))}),(0,u.$)("#range").addEventListener("change",function(t){e.time=11-parseInt(t.target.value,10)})}},{key:"checkResult",value:function(e){this._results[this.note.midi]=this._results[this.note.midi]||{ok:0,fail:0},e===this.note.midi%12?(this._results[this.note.midi].ok=this._results[this.note.midi].ok+1,this.runTest()):this._results[this.note.midi].fail=this._results[this.note.midi].fail+1,this.updateProgress(),this.updateStats()}},{key:"onTimeout",value:function(){this.checkResult(),this.runTest()}},{key:"runTest",value:function(){this.counter=this.counter||0,this.counter++,clearTimeout(this._interval),this.note=this.randomGenerator.getNote(),this._interval=setTimeout(this.onTimeout.bind(this),1e3*this.time+100)}},{key:"updateProgress",value:function(){var e=this,t=0,i=0;Object.keys(this._results).forEach(function(n){var r=e._results[n];t+=r.fail,i+=r.ok}),(0,u.$)("#progress .ok").style["flex-grow"]=i||1,(0,u.$)("#progress .fail").style["flex-grow"]=t||1,(0,u.$)("#progress .ok").innerHTML=i,(0,u.$)("#progress .fail").innerHTML=t}},{key:"updateStats",value:function(){var e=this;(0,u.$)("#stats").innerHTML="",f.midiNotes.forEach(function(t,i){if(i>=43&&i<77){var n=document.createElement("div");if(t.name.match("♯")){var r=document.createElement("div");r.className="halftone",(0,u.$)("#stats div:not(.halftone):last-child").appendChild(r)}else e._results[i]?(n.innerHTML=""+e._results[i].ok,e._results[i].fail>0&&(n.innerHTML=""+e._results[i].fail,n.className="fail level"+Math.min(e._results[i].fail,10))):n.className="empty",n.title=t.name+t.octave,(0,u.$)("#stats").appendChild(n)}})}}]),e}();e["default"]=d}),require.register("RandomGenerator.js",function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=t("notes.js"),o=function(){function e(t){var i=t.min,r=t.max;n(this,e),this.notes=(0,s.getWithoutHalfTones)(s.midiNotes.slice(i,r))}return r(e,[{key:"getNote",value:function(){for(var e=this.randomItem(this.notes);e===this.note;)e=this.randomItem(this.notes);return this.note=e,e}},{key:"randomItem",value:function(e){return e[this.random(0,e.length-1)]}},{key:"random",value:function(e,t){return Math.floor(Math.random()*(t-e))+e}}]),e}();e["default"]=o}),require.register("StaffView.js",function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=t("shortcuts.js"),o=function(){function e(t){n(this,e),this.el=t}return r(e,[{key:"cloneTemplate",value:function(e){var t=(0,s.$)("svg #animation-container"),i=(0,s.$)("svg #note-template").cloneNode(!0);return t&&t.remove(),i.removeAttribute("id"),i.id="animation-container",i.setAttribute("style","animation: dot "+(e+.1)+"s ease-in !important;"),(0,s.$)("svg").appendChild(i),(0,s.$)("svg #animation-container")}},{key:"showNote",value:function(e,t){var i=-(5*parseInt(this.notes[e.midi],10)),n=this.cloneTemplate(t);switch((0,s.$)("#up1",n).style.visibility="hidden",(0,s.$)("#up4",n).style.visibility="hidden",(0,s.$)("#up3",n).style.visibility="hidden",(0,s.$)("#up2",n).style.visibility="hidden",(0,s.$)("#down4",n).style.visibility="hidden",(0,s.$)("#down3",n).style.visibility="hidden",(0,s.$)("#down2",n).style.visibility="hidden",(0,s.$)("#down1",n).style.visibility="hidden",e.midi){case 38:(0,s.$)("#down4",n).style.visibility="visible";case 40:case 41:(0,s.$)("#down3",n).style.visibility="visible";case 43:case 45:(0,s.$)("#down2",n).style.visibility="visible";case 47:case 48:(0,s.$)("#down1",n).style.visibility="visible"}switch(e.midi){case 76:(0,s.$)("#up3",n).style.visibility="visible";case 74:case 72:(0,s.$)("#up2",n).style.visibility="visible";case 69:case 71:(0,s.$)("#up1",n).style.visibility="visible"}(0,s.$)("#note",n).setAttribute("transform","translate(0, "+i+")")}},{key:"min",get:function(){return 38}},{key:"max",get:function(){return 77}},{key:"notes",get:function(){var e=this;return new Array(this.max-this.min).fill(void 0).map(function(t,i){return e.min+i}).filter(function(e,t){return[1,3,6,8,10].indexOf(e%12)<0}).reduce(function(e,t,i){return e[t]=i,e},{})}},{key:"el",set:function(e){this._el=(0,s.$)("svg #note")},get:function(){return this._el}}]),e}();e["default"]=o}),require.register("initialize.js",function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=t("Application.js"),s=n(r);document.addEventListener("DOMContentLoaded",function(){return s["default"].run()})}),require.register("notes.js",function(e,t,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.freeze(["C","C♯","D","D♯","E","F","F♯","G","G♯","A","A♯","B"]),r=function(){return Object.freeze(new Array(128).fill(void 0).map(function(e,t){return Object.freeze({midi:t,name:n[t%12],octave:Math.floor(t/12)})}))}(),s=function(e){return e.filter(function(e,t){return[1,3,6,8,10].indexOf(e.midi%12)<0})};e.midiNotes=r,e.notes=n,e.getWithoutHalfTones=s}),require.register("shortcuts.js",function(e,t,i){"use strict";function n(e,t){return(t||document).querySelector(e)}function r(e){return document.querySelectorAll(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.$=n,e.$$=r}),require.register("___globals___",function(e,t,i){})}(),require("___globals___");